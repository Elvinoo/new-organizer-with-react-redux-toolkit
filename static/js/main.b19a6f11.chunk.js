(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,t,a){e.exports=a(62)},41:function(e,t,a){},44:function(e,t,a){},46:function(e,t,a){},48:function(e,t,a){},50:function(e,t,a){},52:function(e,t,a){},54:function(e,t,a){},56:function(e,t,a){},58:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),c=a(26),r=a.n(c),l=a(10),o=a(5),s=Object(l.b)({name:"favoriteList",initialState:{favoriteList:[]},reducers:{addToList:function(e,t){var a=e.favoriteList.find(function(e){return e.imdbID===t.payload.imdbID});e.favoriteList.includes(a)||(e.favoriteList=[].concat(Object(o.a)(e.favoriteList),[t.payload]))},removeFromList:function(e,t){var a=e.favoriteList.filter(function(e){return e.imdbID!==t.payload.imdbID});e.favoriteList=a},sendId:function(e,t){e.id=t.payload}}}),m=s.actions,u=m.addToList,f=m.removeFromList,b=s.reducer,d=Object(l.b)({name:"moviesList",initialState:{movies:[]},reducers:{search:function(e,t){e.movies=t.payload}}}),v=d.actions.search,p=d.reducer,E=Object(l.a)({reducer:{movies:p,favoriteList:b}}),h=a(6);a(41);function _(){return i.a.createElement("header",{className:"header"},i.a.createElement("h1",{className:"header__title"},"MustSee"))}var g=a(3);a(44);function N(){var e=Object(h.b)(),t=Object(n.useState)(""),a=Object(g.a)(t,2),c=a[0],r=a[1];return i.a.createElement("div",{className:"search-box"},i.a.createElement("form",{action:"submit",className:"search-box__form",onSubmit:function(t){t.preventDefault(),fetch("https://omdbapi.com/?s=".concat(c,"&apikey=7249d26b")).then(function(e){return e.json()}).then(function(t){e(v(t.Search))})}},i.a.createElement("label",{htmlFor:"search-input",className:"search-box__form-label"},"Search movie by title:"," ",i.a.createElement("input",{value:c,onChange:function(e){r(e.target.value)},type:"text",className:"search-box__form-input",placeholder:"E.g. Shawshank Redemption",id:"search-input"})),i.a.createElement("button",{type:"submit",disabled:0===c.length,className:"search-box__form-submit"},"Search")))}a(46);var j=a(12);function O(){var e=Object(h.c)(function(e){return e.favoriteList.favoriteList}),t=Object(h.b)(),a=Object(n.useState)(""),c=Object(g.a)(a,2),r=c[0],l=c[1],o=Object(h.c)(function(e){return e.favoriteList.favoriteList}),s=Object(n.useState)(""),m=Object(g.a)(s,2),u=m[0],b=m[1],d=Object(n.useState)(!1),v=Object(g.a)(d,2),p=v[0],E=v[1];return i.a.createElement("div",{className:"favorites"},i.a.createElement("input",{disabled:p,onChange:function(e){l(e.target.value)},value:r,type:"text",placeholder:"Enter a name for the list",className:"favorites__name"}),i.a.createElement("ul",{className:"favorites__list"},e.map(function(e){return i.a.createElement("li",{key:e.imdbID,className:"favorites__list-item"},e.Title,"(",e.Year,")",i.a.createElement("button",{disabled:p,onClick:function(){return t(f(e))}},"X"))})),p?i.a.createElement(j.b,{to:"/list/"+u},"Go to the list"):i.a.createElement("button",{type:"button",className:"favorites__save",disabled:0===e.length||""===r,onClick:function(e){e.target.style.display="none",E(!0);var t={title:r,movies:o};fetch("https://acb-api.algoritmika.org/api/movies/list",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()}).then(function(e){b(e.id)})}},"Save List"),i.a.createElement("br",null),i.a.createElement("br",null))}a(48),a(50);function y(e){var t=Object(h.b)();return i.a.createElement("article",{className:"movie-item"},i.a.createElement("img",{className:"movie-item__poster",src:e.Poster,alt:e.Title}),i.a.createElement("div",{className:"movie-item__info"},i.a.createElement("h3",{className:"movie-item__title"},e.Title,"\xa0(",e.Year,")"),i.a.createElement("button",{type:"button",className:"movie-item__add-button",onClick:function(){return t(u(e))}},"Add to list")))}a(52);function L(){var e=Object(h.c)(function(e){return e.movies.movies});return e?i.a.createElement("ul",{className:"movies"},e.map(function(e){return i.a.createElement("li",{className:"movies__item",key:e.imdbID},i.a.createElement(y,e))})):null}function S(){return i.a.createElement("div",{className:"main-page"},i.a.createElement(_,null),i.a.createElement("main",{className:"main-page__content"},i.a.createElement("section",{className:"main-page__main-section"},i.a.createElement("div",{className:"main-page__search-box"},i.a.createElement(N,null)),i.a.createElement("div",{className:"main-page__movies"},i.a.createElement(L,null))),i.a.createElement("aside",{className:"main-page__favorites"},i.a.createElement(O,null))))}var k=a(0);a(54);function I(){var e=Object(k.n)().id,t=Object(n.useState)([]),a=Object(g.a)(t,2),c=a[0],r=a[1],l=Object(n.useState)(""),o=Object(g.a)(l,2),s=o[0],m=o[1];return Object(n.useEffect)(function(){fetch("https://acb-api.algoritmika.org/api/movies/list/".concat(e)).then(function(e){return e.json()}).then(function(e){m(e.title.toUpperCase()),r(e.movies)})},[e]),i.a.createElement("div",{className:"list-page"},i.a.createElement("h1",{className:"list-page__title"},s),i.a.createElement("ul",null,c.map(function(e){return i.a.createElement("li",{key:e.imdbID},i.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.imdb.com/title/"+e.imdbID},e.Title,"(",e.Year,")"))})))}a(56),a(58);var w=function(){return i.a.createElement(j.a,null,i.a.createElement("div",{className:"App"},i.a.createElement(k.c,null,i.a.createElement(k.a,{path:"/",element:i.a.createElement(S,null)}),i.a.createElement(k.a,{path:"/list/:id",element:i.a.createElement(I,null)}))))},C=function(e){e&&e instanceof Function&&a.e(1).then(a.bind(null,63)).then(function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),n(e),i(e),c(e),r(e)})};r.a.createRoot(document.getElementById("root")).render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(h.a,{store:E},i.a.createElement(w,null)))),C()}},[[29,3,2]]]);
//# sourceMappingURL=main.b19a6f11.chunk.js.map